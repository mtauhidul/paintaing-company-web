/*
 Lightbox v2.10.0
 by Lokesh Dhakar

 More info:
 http://lokeshdhakar.com/projects/lightbox2/

 Copyright 2007, 2018 Lokesh Dhakar
 Released under the MIT license
 https://github.com/lokesh/lightbox2/blob/master/LICENSE

 @preserve
*/
var $jscomp={scope:{},findInternal:function(b,d,a){b instanceof String&&(b=String(b));for(var c=b.length,h=0;h<c;h++){var f=b[h];if(d.call(a,f,h,b))return{i:h,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[d]=a.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,d,a,c){if(d){a=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var h=b[c];h in a||(a[h]={});a=a[h]}b=b[b.length-1];c=a[b];d=d(c);d!=c&&null!=d&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6-impl","es3");
(function(b,d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d(require("jquery")):b.lightbox=d(b.jQuery)})(this,function(b){function d(a){this.album=[];this.currentImageIndex=void 0;this.init();this.options=b.extend({},this.constructor.defaults);this.option(a)}d.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,
wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1};d.prototype.option=function(a){b.extend(this.options,a)};d.prototype.imageCountLabel=function(a,b){return this.options.albumLabel.replace(/%1/g,a).replace(/%2/g,b)};d.prototype.init=function(){var a=this;b(document).ready(function(){a.enable();a.build()})};d.prototype.enable=function(){var a=this;b("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(c){a.start(b(c.currentTarget));return!1})};
d.prototype.build=function(){if(!(0<b("#lightbox").length)){var a=this;b('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(b("body"));
this.$lightbox=b("#lightbox");this.$overlay=b("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.$image=this.$lightbox.find(".lb-image");this.$nav=this.$lightbox.find(".lb-nav");this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),
10)};this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)};this.$overlay.hide().on("click",function(){a.end();return!1});this.$lightbox.hide().on("click",function(c){"lightbox"===b(c.target).attr("id")&&a.end();return!1});this.$outerContainer.on("click",function(c){"lightbox"===b(c.target).attr("id")&&a.end();
return!1});this.$lightbox.find(".lb-prev").on("click",function(){0===a.currentImageIndex?a.changeImage(a.album.length-1):a.changeImage(a.currentImageIndex-1);return!1});this.$lightbox.find(".lb-next").on("click",function(){a.currentImageIndex===a.album.length-1?a.changeImage(0):a.changeImage(a.currentImageIndex+1);return!1});this.$nav.on("mousedown",function(b){3===b.which&&(a.$nav.css("pointer-events","none"),a.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events",
"auto")}.bind(a),0)}))});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){a.end();return!1})}};d.prototype.start=function(a){function c(a){d.album.push({alt:a.attr("data-alt"),link:a.attr("href"),title:a.attr("data-title")||a.attr("title")})}var d=this,f=b(window);f.on("resize",b.proxy(this.sizeOverlay,this));b("select, object, embed").css({visibility:"hidden"});this.sizeOverlay();this.album=[];var l=0,g=a.attr("data-lightbox");if(g)for(var g=b(a.prop("tagName")+'[data-lightbox="'+
g+'"]'),e=0;e<g.length;e=++e)c(b(g[e])),g[e]===a[0]&&(l=e);else if("lightbox"===a.attr("rel"))c(a);else for(g=b(a.prop("tagName")+'[rel="'+a.attr("rel")+'"]'),e=0;e<g.length;e=++e)c(b(g[e])),g[e]===a[0]&&(l=e);a=f.scrollTop()+this.options.positionFromTop;f=f.scrollLeft();this.$lightbox.css({top:a+"px",left:f+"px"}).fadeIn(this.options.fadeDuration);this.options.disableScrolling&&b("html").addClass("lb-disable-scrolling");this.changeImage(l)};d.prototype.changeImage=function(a){var c=this;this.disableKeyboardNav();
var d=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration);b(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");var f=new Image;f.onload=function(){var h,g,e,k;d.attr({alt:c.album[a].alt,src:c.album[a].link});b(f);d.width(f.width);d.height(f.height);c.options.fitImagesInViewport&&(k=b(window).width(),e=b(window).height(),k=k-c.containerPadding.left-
c.containerPadding.right-c.imageBorderWidth.left-c.imageBorderWidth.right-20,e=e-c.containerPadding.top-c.containerPadding.bottom-c.imageBorderWidth.top-c.imageBorderWidth.bottom-120,c.options.maxWidth&&c.options.maxWidth<k&&(k=c.options.maxWidth),c.options.maxHeight&&c.options.maxHeight<k&&(e=c.options.maxHeight),f.width>k||f.height>e)&&(console.log("We have a constraint"),f.width/k>f.height/e?(g=k,h=parseInt(f.height/(f.width/g),10)):(h=e,g=parseInt(f.width/(f.height/h),10)),d.width(g),d.height(h));
void 0!==g?c.sizeContainer(g,h):c.sizeContainer(f.width,f.height)};f.src=this.album[a].link;this.currentImageIndex=a};d.prototype.sizeOverlay=function(){this.$overlay.width(b(document).width()).height(b(document).height())};d.prototype.sizeContainer=function(a,b){function c(){d.$lightbox.find(".lb-dataContainer").width(e);d.$lightbox.find(".lb-prevLink").height(k);d.$lightbox.find(".lb-nextLink").height(k);d.showImage()}var d=this;console.log("Animating size of container.");console.log("Image width: "+
a);var l=this.$outerContainer.outerWidth(),g=this.$outerContainer.outerHeight(),e=a+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,k=b+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;l!==e||g!==k?this.$outerContainer.animate({width:e,height:k},this.options.resizeDuration,"swing",function(){c()}):c()};d.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide();
this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration);this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};d.prototype.updateNav=function(){var a=!1;try{document.createEvent("TouchEvent"),a=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(c){}this.$lightbox.find(".lb-nav").show();1<this.album.length&&(this.options.wrapAround?(a&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):
(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),a&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),a&&this.$lightbox.find(".lb-next").css("opacity","1"))))};d.prototype.updateDetails=function(){var a=this;if("undefined"!==typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var c=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?c.text(this.album[this.currentImageIndex].title):
c.html(this.album[this.currentImageIndex].title);c.fadeIn("fast").find("a").on("click",function(a){void 0!==b(this).attr("target")?window.open(b(this).attr("href"),b(this).attr("target")):location.href=b(this).attr("href")})}1<this.album.length&&this.options.showImageNumberLabel?(c=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(c).fadeIn("fast")):this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,
function(){return a.sizeOverlay()})};d.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link);0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)};d.prototype.enableKeyboardNav=function(){b(document).on("keyup.keyboard",b.proxy(this.keyboardAction,this))};d.prototype.disableKeyboardNav=function(){b(document).off(".keyboard")};d.prototype.keyboardAction=function(a){a=a.keyCode;
var b=String.fromCharCode(a).toLowerCase();if(27===a||b.match(/x|o|c/))this.end();else if("p"===b||37===a)0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-1);else if("n"===b||39===a)this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0)};d.prototype.end=function(){this.disableKeyboardNav();b(window).off("resize",
this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);b("select, object, embed").css({visibility:"visible"});this.options.disableScrolling&&b("html").removeClass("lb-disable-scrolling")};return new d});
